<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <script>
      var coverSupport = 'CSS' in window && typeof CSS.supports === 'function' && (CSS.supports('top: env(a)') ||
        CSS.supports('top: constant(a)'))
      document.write(
        '<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0' +
        (coverSupport ? ', viewport-fit=cover' : '') + '" />')
    </script>
    <title></title>
    <!--preload-links-->
    <!--app-context-->
	<script src="https://res2.wx.qq.com/open/js/jweixin-1.6.0.js"></script> 
	<script>  
		window.jWeixin=window.wx;  
		delete window.wx;  
		/*
		function docReady(fn) {
			if (document.readyState === 'complete' || document.readyState === 'interactive') {
				fn()
			} else {
				document.addEventListener('DOMContentLoaded', fn);
			}
		}
		docReady(async function() {
			var ua = navigator.userAgent.toLowerCase()
			var isWXWork = ua.match(/wxwork/i) == 'wxwork'
			var isWeixin = !isWXWork && ua.match(/micromessenger/i) == 'micromessenger'
			var isMobile = false
			var isDesktop = false
			if (navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|IEMobile)/i)) {
				isMobile = true
			} else {
				isDesktop = true
			}
			console.log('isWeixin', isWeixin)
			if (isWeixin) {
				/*
				var containerEl = document.getElementById('wechat-web-container')
				containerEl.classList.remove('hidden')
				containerEl.classList.add('full', 'wechat-web-container')
				*/
				var launchBtn = document.getElementById('app')
				launchBtn.addEventListener('ready', function (e) {
					console.log('开放标签 ready')
				})
				launchBtn.addEventListener('launch', function (e) {
					console.log('开放标签 success')
				})
				launchBtn.addEventListener('error', function (e) {
					console.log('开放标签 fail', e.detail)
				})

				jWeixin.config({
					debug: true, // 调试时可开启
					appId: "{$data['appId']}", // <!-- replace -->
					timestamp: "{$data['timestamp']}", // 必填，填任意数字即可
					nonceStr: "{$data['nonceStr']}", // 必填，填任意非空字符串即可
					signature: "{$data['signature']}", // 必填，填任意非空字符串即可
					jsApiList: ['chooseImage', 'getLocation'], // 必填，随意一个接口即可
					openTagList:['wx-open-launch-weapp'], // 填入打开小程序的开放标签名
				})
			} else if (isDesktop) {
				// 在 pc 上则给提示引导到手机端打开
				var containerEl = document.getElementById('desktop-web-container')
				containerEl.classList.remove('hidden')
				containerEl.classList.add('full', 'desktop-web-container')
			}
		})
		*/
	</script>
  </head>
  <body>
    <div id="app"><!--app-html--></div>
    <script type="module" src="/main.js"></script>
  </body>
</html>
